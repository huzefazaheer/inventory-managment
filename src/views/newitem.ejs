<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <title>Inventory Manager</title>
</head>
<body class="formpage">
    <h2><%=headingtxt%></h2>
    <form method="post" action=<%= action %>>
        <div class="inputgroup">
            <div class="input">
            <label for="name">Part Name</label>
            <input type="text" id="name" name="name" value= <%= values.name %>>
        </div>
        <div class="input">
            <label for="partno">Part Number</label>
            <input type="text" id="partno" name="partno" value= <%= values.partno %>>
        </div>
        </div>
        <label for="cat">Choose a category:</label>

        <select name="cat" id="cat">
            <option value="" disabled selected hidden>Select Category</option>
            <option value="resistor" <%= values.category == 'resistor' ? 'selected' : '' %>>Resistor</option>
            <option value="capacitor" <%= values.category == 'capacitor' ? 'selected' : '' %>>Capacitor</option>
            <option value="microcontroller" <%= values.category == 'microcontroller' ? 'selected' : '' %>>Microcontroller</option>
            <option value="opamp" <%= values.category == 'opamp' ? 'selected' : '' %>>OpAmp</option>
            <option value="diode" <%= values.category == 'diode' ? 'selected' : '' %>>Diode</option>
            <option value="ic" <%= values.category == 'ic' ? 'selected' : '' %>>IC</option>
            <option value="transistor" <%= values.category == 'transistor' ? 'selected' : '' %>>Transistor</option>
            <option value="sensor" <%= values.category == 'sensor' ? 'selected' : '' %>>Sensor</option>
        </select> 
       
        <div class="inputgroup manu">
             <div class="input">
            <label for="manufacturer">Manufacturer</label>
            <input type="text" id="manufacturer" name="manufacturer" value= <%= values.manufacturer %>>
        </div>
        <div class="input">
            <label for="datasheet_url">Datasheet URL</label>
            <input type="text" id="datasheet_url" name="datasheet_url" value= <%= values.datasheet_url %>>
        </div>
        </div>

        <div class="input">
            <label for="description">Description</label>
            <textarea type="text" id="description" name="description"><%= values.description %></textarea>
        </div>

        <div class="input">
            <label for="specs">Specifications (json)</label>
            <textarea type="text" id="specs" name="specs"><%= (typeof values.specs === 'object' && values.specs !== null) ? JSON.stringify(values.specs, null, 2) : values.specs %></textarea>
        </div>
        <p id="errortxt"><%= errors[0].msg %></p>

        <button type="submit">Submit</button>
    </form>

</body>
</html>